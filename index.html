<!DOCTYPE html>
<html lang="en" manifest="offline.manifest">

<head>
  <meta name="ROBOTS" content="NOINDEX, NOFOLLOW">
  <meta charset="utf-8" />

  <title>error appcache</title>
  <meta name="viewport" content="initial-scale=1.0,maximum-scale=1.0,minimum-scale=1.0,user-scalable=no,width=device-width">


  <script>
    var appCache = window.applicationCache;

    var cachedHandler = function(e) {
      console.log('cached', e);
    }
    var checkingHandler = function(e) {
      console.log('checking', e);
    }
    var downloadingHandler = function(e) {
      console.log('downloading', e);


      if (e.loaded === e.total) {
        setTimeout(function() {
          console.log()

        }, 1500);
      }



    }
    var errorHandler = function(e) {
      console.log('error', e);
    }
    var noupdateHandler = function(e) {
      console.log('noupdate', e);
    }
    var obsoleteHandler = function(e) {
      console.log('obsolete', e);
    }
    var progressHandler = function(e) {
      console.log('progress', e);
    }
    var updatereadyHandler = function(e) {
      console.log('updateready', e);
    }
    var errorHandler = function(e) {
      console.log('ERROR HANDLER: ', e);
    }


     // Fired after the first cache of the manifest.
    appCache.addEventListener('cached', cachedHandler, false);

     // Checking for an update. Always the first event fired in the sequence.
    appCache.addEventListener('checking', checkingHandler, false);

     // An update was found. The browser is fetching resources.
    appCache.addEventListener('downloading', downloadingHandler, false);

     // The manifest returns 404 or 410, the download failed,
     // or the manifest changed while the download was in progress.
    appCache.addEventListener('error', errorHandler, false);

     // Fired after the first download of the manifest.
    appCache.addEventListener('noupdate', noupdateHandler, false);

     // Fired if the manifest file returns a 404 or 410.
     // This results in the application cache being deleted.
    appCache.addEventListener('obsolete', obsoleteHandler, false);

     // Fired for each resource listed in the manifest as it is being fetched.
    appCache.addEventListener('progress', progressHandler, false);

     // Fired when the manifest resources have been newly redownloaded.
    appCache.addEventListener('updateready', updatereadyHandler, false);
  </script>

</head>

<body class="">

  <div>updateready not firing on chrome (fires only in incognito mode)</div>

</body>

</html>
